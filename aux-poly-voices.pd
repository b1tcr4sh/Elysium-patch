#N canvas 543 210 1105 666 10;
#X obj 113 216 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 322 246 clear;
#X obj 19 246 r \$0-off;
#X obj 146 465 s \$0-on;
#X obj 114 243 t b b;
#X obj 98 275 float;
#X obj 98 309 + 1;
#X obj 103 408 pack 1 0 100;
#X obj 145 438 list append;
#X obj 86 550 outlet~;
#X obj 119 17 inlet;
#X obj 322 188 inlet;
#X obj 321 222 t b;
#X text 610 213 arguments \; voice-abstraction \; number of voices \; receive-name-stem \; list of voice-abstraction-specific arguments;
#X text 603 428 voice-abstraction needs to use abstraction poly-voice-alloc;
#X msg 166 282 1;
#X text 606 303 arguments for voice-abstraction should be \; receive-name-stem \; audio-throw-catch-stem \; voice number \; voice-abstraction-specific arguments;
#X obj 105 371 poly \$2 1;
#X obj 114 82 t b a;
#X obj 134 310 % \$2;
#X obj 618 549 outlet;
#X text 667 549 note on/off messages \, for sending data to voices;
#X obj 310 12 r \$3-note;
#X obj 234 58 list split 2;
#X obj 234 84 unpack;
#X obj 309 35 t l l;
#X text 309 -55 "note" message: first 2 elements of incoming list will control voice allocation - allows for external note on-off control \, and/or messages (route within poly patch to first element - e.g. control synth parameters by pitch or other identifier));
#X text 680 40 aux-poly-voices aux-array-grain-poly 64 loop-grain loop-rec-buffer 100 0 0 200 0 100 100;
#X obj 86 511 clone -s 1 \$1 \$2 \$3 \$0 \$4 100 0 0 200 0 100 100;
#X obj 423 490 list trim;
#X obj 423 469 list prepend set;
#X msg 423 511 7 7 0;
#X msg 30 316 set \$1;
#X text 607 395 audio output (left) is multichannel \, defined by the cloned abstraction \; use snake out object to unpack;
#X obj 173 18 r \$3-trigger-grains;
#X connect 0 0 4 0;
#X connect 1 0 17 0;
#X connect 2 0 17 0;
#X connect 2 0 32 0;
#X connect 4 0 5 0;
#X connect 4 1 15 0;
#X connect 5 0 6 0;
#X connect 6 0 17 0;
#X connect 6 0 19 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 8 0 20 0;
#X connect 8 0 30 0;
#X connect 10 0 18 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 15 0 17 1;
#X connect 17 0 7 0;
#X connect 17 1 7 1;
#X connect 17 2 7 2;
#X connect 18 0 0 0;
#X connect 18 1 8 1;
#X connect 19 0 5 1;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 24 0 17 0;
#X connect 24 1 17 1;
#X connect 25 0 23 0;
#X connect 25 1 8 1;
#X connect 28 0 9 0;
#X connect 29 0 31 0;
#X connect 30 0 29 0;
#X connect 34 0 18 0;
